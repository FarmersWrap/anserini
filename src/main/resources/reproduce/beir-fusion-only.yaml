conditions:
  # ========== Fusion: RRF ==========
  - name: fusion-rrf
    display: "Fusion: RRF (BM25 + BGE)"
    display_html: "Fusion: RRF (BM25 + BGE)"
    display_row: ""
    command: java -cp $fatjar io.anserini.fusion.FuseRuns -runs runs/run.beir-fusion.flat.$topics.txt runs/run.beir-fusion.bge-base-en-v1.5.flat.onnx.$topics.txt -output $output -method rrf -k 1000 -depth 1000 -rrf_k 60
    topics:
      - topic_key: trec-covid
        eval_key: beir-v1.0.0-trec-covid.test
        scores:
          - nDCG@10: 0.8041
      - topic_key: bioasq
        eval_key: beir-v1.0.0-bioasq.test
        scores:
          - nDCG@10: 0.5278
      - topic_key: nfcorpus
        eval_key: beir-v1.0.0-nfcorpus.test
        scores:
          - nDCG@10: 0.3725
      - topic_key: nq
        eval_key: beir-v1.0.0-nq.test
        scores:
          - nDCG@10: 0.4831
      - topic_key: fiqa
        eval_key: beir-v1.0.0-fiqa.test
        scores:
          - nDCG@10: 0.3671
      - topic_key: signal1m
        eval_key: beir-v1.0.0-signal1m.test
        scores:
          - nDCG@10: 0.3533
      - topic_key: trec-news
        eval_key: beir-v1.0.0-trec-news.test
        scores:
          - nDCG@10: 0.4855
      - topic_key: robust04
        eval_key: beir-v1.0.0-robust04.test
        scores:
          - nDCG@10: 0.5070
      - topic_key: arguana
        eval_key: beir-v1.0.0-arguana.test
        scores:
          - nDCG@10: 0.5626
      - topic_key: webis-touche2020
        eval_key: beir-v1.0.0-webis-touche2020.test
        scores:
          - nDCG@10: 0.3771
      - topic_key: cqadupstack-android
        eval_key: beir-v1.0.0-cqadupstack-android.test
        scores:
          - nDCG@10: 0.4652
      - topic_key: cqadupstack-english
        eval_key: beir-v1.0.0-cqadupstack-english.test
        scores:
          - nDCG@10: 0.4461
      - topic_key: cqadupstack-gaming
        eval_key: beir-v1.0.0-cqadupstack-gaming.test
        scores:
          - nDCG@10: 0.5615
      - topic_key: cqadupstack-gis
        eval_key: beir-v1.0.0-cqadupstack-gis.test
        scores:
          - nDCG@10: 0.3679
      - topic_key: cqadupstack-mathematica
        eval_key: beir-v1.0.0-cqadupstack-mathematica.test
        scores:
          - nDCG@10: 0.2751
      - topic_key: cqadupstack-physics
        eval_key: beir-v1.0.0-cqadupstack-physics.test
        scores:
          - nDCG@10: 0.4143
      - topic_key: cqadupstack-programmers
        eval_key: beir-v1.0.0-cqadupstack-programmers.test
        scores:
          - nDCG@10: 0.3715
      - topic_key: cqadupstack-stats
        eval_key: beir-v1.0.0-cqadupstack-stats.test
        scores:
          - nDCG@10: 0.3414
      - topic_key: cqadupstack-tex
        eval_key: beir-v1.0.0-cqadupstack-tex.test
        scores:
          - nDCG@10: 0.2931
      - topic_key: cqadupstack-unix
        eval_key: beir-v1.0.0-cqadupstack-unix.test
        scores:
          - nDCG@10: 0.3597
      - topic_key: cqadupstack-webmasters
        eval_key: beir-v1.0.0-cqadupstack-webmasters.test
        scores:
          - nDCG@10: 0.3711
      - topic_key: cqadupstack-wordpress
        eval_key: beir-v1.0.0-cqadupstack-wordpress.test
        scores:
          - nDCG@10: 0.3353

  # ========== Fusion: Average ==========
  - name: fusion-avg
    display: "Fusion: Average (BM25 + BGE)"
    display_html: "Fusion: Average (BM25 + BGE)"
    display_row: ""
    command: java -cp $fatjar io.anserini.fusion.FuseRuns -runs runs/run.beir-fusion.flat.$topics.txt runs/run.beir-fusion.bge-base-en-v1.5.flat.onnx.$topics.txt -output $output -method average -k 1000 -depth 1000
    topics:
      - topic_key: trec-covid
        eval_key: beir-v1.0.0-trec-covid.test
        scores:
          - nDCG@10: 0.6567
      - topic_key: bioasq
        eval_key: beir-v1.0.0-bioasq.test
        scores:
          - nDCG@10: 0.5315
      - topic_key: nfcorpus
        eval_key: beir-v1.0.0-nfcorpus.test
        scores:
          - nDCG@10: 0.3415
      - topic_key: nq
        eval_key: beir-v1.0.0-nq.test
        scores:
          - nDCG@10: 0.3241
      - topic_key: fiqa
        eval_key: beir-v1.0.0-fiqa.test
        scores:
          - nDCG@10: 0.2470
      - topic_key: signal1m
        eval_key: beir-v1.0.0-signal1m.test
        scores:
          - nDCG@10: 0.3464
      - topic_key: trec-news
        eval_key: beir-v1.0.0-trec-news.test
        scores:
          - nDCG@10: 0.4162
      - topic_key: robust04
        eval_key: beir-v1.0.0-robust04.test
        scores:
          - nDCG@10: 0.4327
      - topic_key: arguana
        eval_key: beir-v1.0.0-arguana.test
        scores:
          - nDCG@10: 0.3984
      - topic_key: webis-touche2020
        eval_key: beir-v1.0.0-webis-touche2020.test
        scores:
          - nDCG@10: 0.4510
      - topic_key: cqadupstack-android
        eval_key: beir-v1.0.0-cqadupstack-android.test
        scores:
          - nDCG@10: 0.3872
      - topic_key: cqadupstack-english
        eval_key: beir-v1.0.0-cqadupstack-english.test
        scores:
          - nDCG@10: 0.3601
      - topic_key: cqadupstack-gaming
        eval_key: beir-v1.0.0-cqadupstack-gaming.test
        scores:
          - nDCG@10: 0.4886
      - topic_key: cqadupstack-gis
        eval_key: beir-v1.0.0-cqadupstack-gis.test
        scores:
          - nDCG@10: 0.2948
      - topic_key: cqadupstack-mathematica
        eval_key: beir-v1.0.0-cqadupstack-mathematica.test
        scores:
          - nDCG@10: 0.2084
      - topic_key: cqadupstack-physics
        eval_key: beir-v1.0.0-cqadupstack-physics.test
        scores:
          - nDCG@10: 0.3283
      - topic_key: cqadupstack-programmers
        eval_key: beir-v1.0.0-cqadupstack-programmers.test
        scores:
          - nDCG@10: 0.2891
      - topic_key: cqadupstack-stats
        eval_key: beir-v1.0.0-cqadupstack-stats.test
        scores:
          - nDCG@10: 0.2796
      - topic_key: cqadupstack-tex
        eval_key: beir-v1.0.0-cqadupstack-tex.test
        scores:
          - nDCG@10: 0.2333
      - topic_key: cqadupstack-unix
        eval_key: beir-v1.0.0-cqadupstack-unix.test
        scores:
          - nDCG@10: 0.2829
      - topic_key: cqadupstack-webmasters
        eval_key: beir-v1.0.0-cqadupstack-webmasters.test
        scores:
          - nDCG@10: 0.3130
      - topic_key: cqadupstack-wordpress
        eval_key: beir-v1.0.0-cqadupstack-wordpress.test
        scores:
          - nDCG@10: 0.2625

  # ========== Fusion: Interpolation alpha=0.5 ==========
  - name: fusion-interp
    display: "Fusion: Interpolation alpha=0.5 (BM25 + BGE)"
    display_html: "Fusion: Interpolation alpha=0.5 (BM25 + BGE)"
    display_row: ""
    command: java -cp $fatjar io.anserini.fusion.FuseRuns -runs runs/run.beir-fusion.flat.$topics.txt runs/run.beir-fusion.bge-base-en-v1.5.flat.onnx.$topics.txt -output $output -method interpolation -k 1000 -depth 1000 -alpha 0.5
    topics:
      - topic_key: trec-covid
        eval_key: beir-v1.0.0-trec-covid.test
        scores:
          - nDCG@10: 0.6567
      - topic_key: bioasq
        eval_key: beir-v1.0.0-bioasq.test
        scores:
          - nDCG@10: 0.5315
      - topic_key: nfcorpus
        eval_key: beir-v1.0.0-nfcorpus.test
        scores:
          - nDCG@10: 0.3415
      - topic_key: nq
        eval_key: beir-v1.0.0-nq.test
        scores:
          - nDCG@10: 0.3241
      - topic_key: fiqa
        eval_key: beir-v1.0.0-fiqa.test
        scores:
          - nDCG@10: 0.2470
      - topic_key: signal1m
        eval_key: beir-v1.0.0-signal1m.test
        scores:
          - nDCG@10: 0.3464
      - topic_key: trec-news
        eval_key: beir-v1.0.0-trec-news.test
        scores:
          - nDCG@10: 0.4162
      - topic_key: robust04
        eval_key: beir-v1.0.0-robust04.test
        scores:
          - nDCG@10: 0.4327
      - topic_key: arguana
        eval_key: beir-v1.0.0-arguana.test
        scores:
          - nDCG@10: 0.3984
      - topic_key: webis-touche2020
        eval_key: beir-v1.0.0-webis-touche2020.test
        scores:
          - nDCG@10: 0.4510
      - topic_key: cqadupstack-android
        eval_key: beir-v1.0.0-cqadupstack-android.test
        scores:
          - nDCG@10: 0.3872
      - topic_key: cqadupstack-english
        eval_key: beir-v1.0.0-cqadupstack-english.test
        scores:
          - nDCG@10: 0.3601
      - topic_key: cqadupstack-gaming
        eval_key: beir-v1.0.0-cqadupstack-gaming.test
        scores:
          - nDCG@10: 0.4886
      - topic_key: cqadupstack-gis
        eval_key: beir-v1.0.0-cqadupstack-gis.test
        scores:
          - nDCG@10: 0.2948
      - topic_key: cqadupstack-mathematica
        eval_key: beir-v1.0.0-cqadupstack-mathematica.test
        scores:
          - nDCG@10: 0.2084
      - topic_key: cqadupstack-physics
        eval_key: beir-v1.0.0-cqadupstack-physics.test
        scores:
          - nDCG@10: 0.3283
      - topic_key: cqadupstack-programmers
        eval_key: beir-v1.0.0-cqadupstack-programmers.test
        scores:
          - nDCG@10: 0.2891
      - topic_key: cqadupstack-stats
        eval_key: beir-v1.0.0-cqadupstack-stats.test
        scores:
          - nDCG@10: 0.2796
      - topic_key: cqadupstack-tex
        eval_key: beir-v1.0.0-cqadupstack-tex.test
        scores:
          - nDCG@10: 0.2333
      - topic_key: cqadupstack-unix
        eval_key: beir-v1.0.0-cqadupstack-unix.test
        scores:
          - nDCG@10: 0.2829
      - topic_key: cqadupstack-webmasters
        eval_key: beir-v1.0.0-cqadupstack-webmasters.test
        scores:
          - nDCG@10: 0.3130
      - topic_key: cqadupstack-wordpress
        eval_key: beir-v1.0.0-cqadupstack-wordpress.test
        scores:
          - nDCG@10: 0.2625
